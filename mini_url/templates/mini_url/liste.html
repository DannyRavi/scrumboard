{% extends 'base.html'%}
{% load i18n %}
{% block title %}{% trans "Raccourcisseur d'url" %}{% endblock %}
{% block content %}

{{ minis.count() }} urls {% trans "raccourcies" %}

<table class="ui striped table">
    <thead>
        <tr>
            <th>{% trans "Url brute" %}</th>
            <th>{% trans "Url raccourcie" %}</th>
            <th>{% trans "Submitter" %}</th>
            <th>{% trans "Date de création" %}</th>
            <th>{% trans "Accès" %}</th>
        </tr>
    </thead>
    <tbody>
    {% for mini in minis %}
        <tr>
            <td>{{ mini.url }}</td>
            <td>via <a href=" http://{{request.get_host}}{% url 'redirection' mini.code %}" target="_blank">{{ request.get_host }}{% url 'redirection' mini.code %}</a></td>
            <td>{% if mini.pseudo %} {% trans "par" %} {{ mini.pseudo }} {% endif %}</td>
            <td>{{ mini.date|date:"d M, Y" }}</td>
            <td>({{ mini.nb_acces }} {% trans "accès" %} )</td>
        </tr>
        {% empty %}
        <tr>
            <td>{% trans "Pas d'url" %}</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    {% endfor %}
    </tbody>
</table>


{% if minis.has_other_pages %}
    <div class="ui center aligned container">
        {% if minis.has_previous %}		
             <a href="?page={{ minis.previous_page_number }}" class="item">&laquo;</a>	
         {% else %}		
             <a href="#" class="item">&laquo;</a>
         {% endif %}
        
        {% for i in minis.paginator.page_range %}
            {% if minis.number == i %}
                <a href="#" class="item">{{ i }}</a>
            {% else %}
                <a href="?page={{i}}" class="item">{{ i }}</a>
            {% endif %}
        {% endfor %}
        
        {% if minis.has_next %}		
             <a href="?page={{ minis.next_page_number }}" class="item">&raquo;</a>	
         {% else %}		
             <a href="#" class="item">&laquo;</a>
         {% endif %}
    </div>
{% endif %}
        </div>
    <div class="column">
        
        
    



{% endblock %}
